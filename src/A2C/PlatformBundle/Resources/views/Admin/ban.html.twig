{# src/A2C/PlatformBundle/Resources/views/Admin/ban.html.twig #}

{% extends "A2CPlatformBundle:Admin:index.html.twig" %}

{% block body %}
    <h2> {{ 'admin.ban.title'|trans }} </h2>
	
	{# Print the list of banned email addresses, with the unban action #}
	<table>
		<tr>
			<th> {{ 'admin.ban.column1'|trans }} </th>
			<th> {{ 'admin.ban.column2'|trans }} </th>
			<th> {{ 'admin.ban.column3'|trans }} </th>
		</tr>
		{% for address in listAddresses %}
			<tr>
				<td>{{ address.emailAddress }}</td>
				<td>{{ address.bannedDate|date('Y-m-d H:i:s') }}</td>
				{# Unban button #}
				<td><form action="{{ path('a2c_platform_admin_unban', {'id': address.id}) }}" method="post">
					<input type="submit" value="{{ 'admin.ban.unban'|trans}}" class="btn btn-danger" />
					{# CSRF token #}
					{{ form_rest(form) }}
					</form>
				</td>
			</tr>
		{% endfor %}
	</table>
	
{% endblock %}